{"remainingRequest":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\babel-loader\\lib\\index.js!D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyProjects\\HbuilderX-projects\\2.19z\\src\\components\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\src\\components\\login.vue","mtime":1590284686531},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1582103017138},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\babel-loader\\lib\\index.js","mtime":1582103090028},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1582103017138},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1582103017138},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\babel-loader\\lib\\index.js","mtime":1582103090028},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1582103017138},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue/dist/vue.esm.js'; // jQuery.support.cors = true;\n\nexport default {\n  name: 'Login',\n  data: function data() {\n    return {\n      myform: {\n        username: \"\",\n        password: \"\",\n        unameText: \"\",\n        upassText: \"\"\n      },\n      // userIp:\"\",\n      message: \"\",\n      userId: \"\"\n    };\n  },\n  mounted: function mounted() {},\n  methods: {\n    //检查用户名\n    checkusername: function checkusername() {\n      if (!this.myform.username) {\n        this.myform.unameText = \"用户名不能为空\";\n        return;\n      } else {\n        this.myform.unameText = \"\";\n      }\n    },\n    //检查密码\n    checkpass: function checkpass() {\n      if (!this.myform.password) {\n        this.myform.upassText = \"密码不能为空\";\n        return;\n      } else {\n        this.myform.upassText = \"\";\n      }\n    },\n    //登录\n    login: function login() {\n      var _this = this;\n\n      // 处理输入为空\n      if (this.myform.unameText || this.myform.upassText) {\n        return;\n      } //调用后台接口，判断用户的真实性\n\n\n      var data = {\n        username: this.myform.username,\n        password: this.myform.password\n      };\n      this.$ajax.post('/api/user/isLoginUser', this.$qs.stringify(data)).then(function (response) {\n        if (!response.data) {\n          alert(\"用户名或密码错误,请重新输入\");\n          return;\n        } else {\n          _this.userId = response.data;\n          localStorage.setItem(\"login\", _this.userId);\n\n          _this.$router.push(\"/\"); // this.$router.go(-2);\n\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    goRegister: function goRegister() {\n      console.log(\"跳转register\");\n      this.$router.push('/Register');\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,OAAA,GAAA,MAAA,qBAAA,C,CAEA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA,EAHA;AAIA,QAAA,SAAA,EAAA;AAJA,OADA;AAOA;AACA,MAAA,OAAA,EAAA,EARA;AASA,MAAA,MAAA,EAAA;AATA,KAAA;AAaA,GAhBA;AAiBA,EAAA,OAjBA,qBAiBA,CACA,CAlBA;AAoBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,2BAEA;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,SAAA;AACA;AACA,OAHA,MAIA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,EAAA;AACA;AACA,KAVA;AAWA;AACA,IAAA,SAZA,uBAYA;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,QAAA;AACA;AACA,OAHA,MAIA;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,EAAA;AACA;AACA,KApBA;AAqBA;AACA,IAAA,KAtBA,mBAsBA;AAAA;;AACA;AACA,UAAA,KAAA,MAAA,CAAA,SAAA,IAAA,KAAA,MAAA,CAAA,SAAA,EAAA;AACA;AACA,OAJA,CAKA;;;AACA,UAAA,IAAA,GAAA;AACA,QAAA,QAAA,EAAA,KAAA,MAAA,CAAA,QADA;AAEA,QAAA,QAAA,EAAA,KAAA,MAAA,CAAA;AAFA,OAAA;AAIA,WAAA,KAAA,CAAA,IAAA,CAAA,uBAAA,EAAA,KAAA,GAAA,CAAA,SAAA,CAAA,IAAA,CAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,CAAA,QAAA,CAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,gBAAA,CAAA;AACA;AACA,SAHA,MAIA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,KAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAHA,CAIA;;AACA;AACA,OAZA,EAaA,KAbA,CAaA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAfA;AAgBA,KAhDA;AAiDA,IAAA,UAjDA,wBAiDA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,YAAA;AAEA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AAEA;AAtDA;AApBA,CAAA","sourcesContent":["<template>\r\n\t\n  <div id=\"login\">\n    <div class=\"outer\">\r\n    \t<form class=\"form-signin\" :model=\"myform\">\r\n    \t\t<div class=\"login-head\">\r\n    \t\t\t<a href=\"#\" class=\"login-in\"><router-link to=\"/\">登录</router-link></a>\r\n    \t\t\t·\r\n    \t\t\t<a href=\"#\" class=\"register\" @click=\"goRegister\">注册</a>\r\n\t\t\t\t<!-- <router-link to=\"/Register\">注册</router-link> -->\r\n    \t\t</div>\r\n    \t\t<div class=\"form-item\">\r\n    \t\t\t<label class=\"sr-only\" prop=\"username\">用户名</label>\r\n    \t\t\t<input type=\"text\" v-model.trim=\"myform.username\" @blur=\"checkusername\" class=\"form-control\" placeholder=\"用户名\" required autofocus>\r\n\t\t\t\t<p id=\"unameText\" v-text=\"myform.unameText\"></p>\r\n\t\t\t</div>\r\n    \t\t<div class=\"form-item\">\r\n    \t\t\t<label class=\"sr-only\" prop=\"password\">密码</label>\r\n    \t\t\t<input type=\"password\" v-model.trim=\"myform.password\" @blur=\"checkpass\" class=\"form-control\" placeholder=\"密码\" required>\r\n\t\t\t\t<p id=\"upassText\" v-text=\"myform.upassText\"></p>\r\n\t\t\t</div>\r\n    \t\t<!-- <div class=\"checkbox\">\r\n    \t\t\t<input type=\"checkbox\" checked>\r\n    \t\t\t<span>记住我</span>\r\n    \t\t</div>\r\n    \t\t<div class=\"problem\"><a href=\"#\">登录遇到问题？</a></div>\r\n    \t\t -->\r\n    \t\t<div class=\"form-item item-last\">\r\n    \t\t\t<button class=\"btn btn-lg btn-primary btn-block\" type=\"button\" @click=\"login\">登录</button>\r\n    \t\t</div>\r\n    \t</form>\r\n\t\t<!-- <router-view></router-view> -->\r\n    </div>\n  </div>\n</template>\n<script src=\"../js/vue.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\n<script>\r\nimport Vue from 'vue/dist/vue.esm.js'\r\n\r\n// jQuery.support.cors = true;\r\nexport default {\n\tname: 'Login',\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tmyform:{\r\n\t\t\t\tusername:\"\",\r\n\t\t\t\tpassword:\"\",\r\n\t\t\t\tunameText:\"\",\r\n\t\t\t\tupassText:\"\",\r\n\t\t\t},\r\n\t\t\t// userIp:\"\",\r\n\t\t\tmessage:\"\",\r\n\t\t\tuserId:\"\",\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t},\r\n\tmounted() {\r\n\t},\r\n\t\r\n\tmethods:{\r\n\t\t//检查用户名\r\n\t\tcheckusername(){\r\n\t\t\tif(!this.myform.username){\r\n\t\t\t\tthis.myform.unameText=\"用户名不能为空\";\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.myform.unameText=\"\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t//检查密码\r\n\t\tcheckpass(){\r\n\t\t\tif(!this.myform.password){\r\n\t\t\t\tthis.myform.upassText = \"密码不能为空\";\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.myform.upassText = \"\";\r\n\t\t\t}\r\n\t\t},\r\n\t\t//登录\r\n\t\tlogin(){\r\n\t\t\t// 处理输入为空\r\n\t\t\tif(this.myform.unameText || this.myform.upassText){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//调用后台接口，判断用户的真实性\r\n\t\t\tlet data = {\r\n\t\t\t\tusername:this.myform.username,\r\n\t\t\t\tpassword:this.myform.password,\r\n\t\t\t}\r\n\t\t\tthis.$ajax.post('/api/user/isLoginUser', this.$qs.stringify(data))\r\n\t\t\t.then(response => {\r\n\t\t\t\tif(!response.data){\r\n\t\t\t\t\talert(\"用户名或密码错误,请重新输入\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.userId=response.data;\r\n\t\t\t\t\tlocalStorage.setItem(\"login\",this.userId);\r\n\t\t\t\t\tthis.$router.push(\"/\");\r\n\t\t\t\t\t// this.$router.go(-2);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t})\r\n\t\t},\r\n\t\tgoRegister(){\r\n\t\t\tconsole.log(\"跳转register\");\r\n\t\t\t\r\n\t\t\tthis.$router.push('/Register');\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t}\n  \n}\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\r\nbody{\r\n\tbackground-color: #f1f1f1;\r\n}\r\n.outer{\r\n\twidth: 400px;\r\n\t/* height: 600px; */\r\n\tmargin: 0 auto;\r\n\tmargin-top: 150px;\r\n\tborder-radius: 5px;\r\n\tpadding: 50px 50px 30px;\r\n\tbox-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n\tbackground:white;\r\n}\r\n.login-head{\r\n\ttext-align: center;\r\n\tline-height: 42px;\r\n\tfont-weight: 700;\r\n\tfont-size: 20px;\r\n\tmargin-bottom: 30px ;\r\n}\r\n.login-head>a{\r\n\tpadding: 0 10px 10px;\r\n\t/* color: #ea6f5a; */\r\n}\r\n.login-head>a:hover{\r\n\ttext-decoration: none;\r\n}\r\n.login-in{\r\n\t/* text-decoration: underline; */\r\n\tpadding-bottom: 10px;\r\n\tborder-bottom: 2px solid;\r\n\tcolor: #ea6f5a;\r\n}\r\n.login-in:hover{\r\n\tcolor: #ea6f5a;\r\n}\r\n.register{\r\n\tcolor: #969696;\r\n}\r\n.register:hover{\r\n\tpadding-bottom: 10px;\r\n\tborder-bottom: 2px solid;\r\n\tcolor: #ea6f5a;\r\n}\r\n.form-item{\r\n\tmargin-top: 20px;\r\n}\r\n\r\n.checkbox{\r\n\tcolor: #969696;\r\n\tmargin-left: 20px;\r\n\tfloat: left;\r\n\tmargin-top: 20px;\r\n\tmargin-bottom: 20px;\r\n}\r\n.problem>a{\r\n\tfloat: right;\r\n\tcolor: #969696;\r\n\tline-height: 58px;\r\n}\r\n.problem>a:hover{\r\n\tcolor: #CD0000;\r\n\ttext-decoration: none;\r\n}\r\n\r\n.item-last{\r\n\tmargin: 20px 0;\r\n}\n</style>\n"],"sourceRoot":"src/components"}]}