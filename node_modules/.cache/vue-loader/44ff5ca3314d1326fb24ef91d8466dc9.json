{"remainingRequest":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\MyProjects\\HbuilderX-projects\\2.19z\\src\\components\\collectInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\src\\components\\collectInfo.vue","mtime":1587041474944},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1582103017138},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\babel-loader\\lib\\index.js","mtime":1582103090028},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1582103017138},{"path":"D:\\MyProjects\\HbuilderX-projects\\2.19z\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport moment from 'moment'\t\t//处理时间戳\nexport default{\n\tdata(){\n\t\treturn{\n\t\t\tisLogin:false,\n\t\t\tloginUid:localStorage.getItem(\"login\"),\n\t\t\tscId:\"\",\t//收藏分类名id\n\t\t\tblogList:{},\t\t//博客列表\n\t\t\tunread:{},\t//未读的关注消息列表\n\t\t\t// inputResultNull:false,\t\t//未查到\n\t\t\tinputTitle:\"\",\t//要查询的博客标题\n\t\t}\n\t},\n\tmounted() {\n\t\t//判断是否要出现“我的，消息”链接\n\t\tif(localStorage.getItem(\"login\")!=null){\n\t\t\tthis.isLogin=true;\n\t\t}\n\t\t//获取url里的scid\n\t\tthis.scId = this.$router.history.current.params.scId;\n\t\t//获取博客列表\n\t\tthis.getBlogList();\n\t\t//查找未读的关注消息列表\n\t\tthis.getUnread();\n\t},\n\tfilters: {\n\t\tformatDate: function (value) {\n\t\t\t// console.log(value.time);\n\t\t\t// return moment(moment(value).format('YYYY MM DD HH:mm:ss')).valueOf();\n\t\t\treturn moment(value).format('YYYY-MM-DD HH:mm:ss');\n\t\t},\n\t\tformatDateyy: function (value) {\n\t\t\t// console.log(value.time);\n\t\t\t// return moment(moment(value).format('YYYY MM DD HH:mm:ss')).valueOf();\n\t\t\treturn moment(value).format('YYYY-MM-DD');\n\t\t}\n\t},\n\tmethods:{\n\t\t//模糊查询博客\n\t\tlikeTitle(){\n\t\t\tif(!this.inputTitle){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$router.push(`/selectBlog${this.inputTitle}`);\n\t\t\t\n\t\t},\n\t\t//查找未读的关注消息列表\n\t\tgetUnread(){\n\t\t\tlet data={\n\t\t\t\treceiveUserId:this.loginUid,\n\t\t\t}\n\t\t\tthis.$ajax.post('/api/notice/messagelist', this.$qs.stringify(data))\n\t\t\t.then(response =>{\n\t\t\t\tthis.unread = response.data;\n\t\t\t})\n\t\t\t.catch(error =>{\n\t\t\t\tconsole.log(error);\n\t\t\t})\n\t\t},\n\t\t//取消收藏\n\t\tdeleteStore(bid){\n\t\t\tlet data={\n\t\t\t\tblogId:bid,\n\t\t\t\tuserId:localStorage.getItem(\"login\"),\n\t\t\t\tscId:this.scId,\n\t\t\t}\n\t\t\tconsole.log(data);\n\t\t\tthis.$ajax.post('/api/store/deleteStore', this.$qs.stringify(data))\n\t\t\t.then(response =>{\n\t\t\t\talert(\"已取消\");\n\t\t\t\tthis.$router.go(0);\t//刷新页面\n\t\t\t})\n\t\t\t.catch(error =>{\n\t\t\t\tconsole.log(error);\n\t\t\t})\n\t\t},\n\t\t//去博客详情页\n\t\tgotoBlogDetail(bid){\n\t\t\tthis.$router.push(`/blogDetail${bid}`);\n\t\t},\n\t\t//返回上一页\n\t\tgoback(){\n\t\t\tthis.$router.go(-1);\n\t\t},\n\t\t//收藏列表\n\t\tgetBlogList(){\n\t\t\tlet data={\n\t\t\t\tscId:this.scId,\n\t\t\t\tuserId:localStorage.getItem(\"login\"),\n\t\t\t}\n\t\t\tconsole.log(data);\n\t\t\tthis.$ajax.post('/api/store/blogList', this.$qs.stringify(data))\n\t\t\t.then(response =>{\n\t\t\t\tthis.blogList = response.data;\n\t\t\t})\n\t\t\t.catch(error =>{\n\t\t\t\tconsole.log(error);\n\t\t\t})\n\t\t},\n\t\t//退出登录\n\t\tloginOut(){\n\t\t\tlocalStorage.removeItem(\"login\");\n\t\t\tconsole.log(\"localStorage=login----\"+localStorage.getItem(\"login\"));\n\t\t\t// this.$router.push(\"/\");\t\t这个会跳转当前页面，但是不会刷新\n\t\t\tthis.$router.go(0);//重新刷新当前页面\n\t\t}\n\t}\n}\n",{"version":3,"sources":["collectInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"collectInfo.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<nav class=\"navbar navbar-default\">\r\n\t\t\t<div class=\"container-fluid\">\r\n\t\t\t\t<div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\r\n\t\t\t\t\t<ul class=\"nav navbar-nav\">\r\n\t\t\t\t\t\t<!-- <li><a href=\"#\">SHARING</a></li> -->\r\n\t\t\t\t\t\t<li><router-link to=\"/\">首页</router-link></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<!-- 查询 -->\r\n\t\t\t\t\t<form class=\"navbar-form navbar-left\">\r\n\t\t\t\t\t\t<div class=\"form-group\">\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model.trim=\"inputTitle\" name=\"queryBlogTitle\" class=\"form-control color\" placeholder=\"\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button type=\"button\" @click=\"likeTitle\" class=\"btn btn-default color\">搜索</button>\r\n\t\t\t\t\t\t<!-- <span v-show=\"inputResultNull\" style=\"color: red;margin-left: 10px;\">未查到</span> -->\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<ul class=\"nav navbar-nav navbar-right\">\r\n\t\t\t\t\t\t<li><router-link to=\"/editor0\">写博客</router-link></li>\r\n\t\t\t\t\t\t<li class=\"dropdown\"  v-if=\"isLogin\">\r\n\t\t\t\t\t\t\t<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t消息\r\n\t\t\t\t\t\t\t\t<span v-show=\"unread.allLength != 0\" class=\"badge\" style=\"background-color: #CD0000;\">\r\n\t\t\t\t\t\t\t\t\t{{unread.allLength}}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span class=\"caret\"></span>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<ul class=\"dropdown-menu\" style=\"text-align: left; padding-left: 20px;\">\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<a href=\"#\" @click=\"gotoBlogCenter(unread.pubusers.id)\">公告\r\n\t\t\t\t\t\t\t\t\t\t<span v-show=\"unread.pubLength != 0\" class=\"badge\" style=\"background-color: #CD0000;\">{{unread.pubLength}}</span>\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<router-link to=\"/beCom\">评论\r\n\t\t\t\t\t\t\t\t\t\t<span v-show=\"unread.comLength != 0\"  class=\"badge\" style=\"background-color: #CD0000;\">{{unread.comLength}}</span>\r\n\t\t\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<router-link to=\"/beAppre\">点赞\r\n\t\t\t\t\t\t\t\t\t\t<span v-show=\"unread.appreLength != 0\" class=\"badge\" style=\"background-color: #CD0000;\">{{unread.appreLength}}</span>\r\n\t\t\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<router-link to=\"/beAttack\">关注\r\n\t\t\t\t\t\t\t\t\t\t<span v-show=\"unread.attenLength != 0\" class=\"badge\" style=\"background-color: #CD0000;\">{{unread.attenLength}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li class=\"dropdown\" v-if=\"isLogin\">\r\n\t\t\t\t\t\t\t<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\t\t\t\t我的\r\n\t\t\t\t\t\t\t\t<span class=\"caret\"></span>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<ul class=\"dropdown-menu\">\r\n\t\t\t\t\t\t\t\t<li><router-link to=\"/message\">个人资料</router-link></li>\r\n\t\t\t\t\t\t\t\t<li><router-link :to=\"`/myBlogCenter${loginUid}`\">博客中心</router-link></li>\r\n\t\t\t\t\t\t\t\t<li><router-link to=\"/collect\">我的收藏</router-link></li>\r\n\t\t\t\t\t\t\t\t<li><router-link to=\"/follow\">我的关注</router-link></li>\r\n\t\t\t\t\t\t\t\t<li><router-link to=\"/myfan\">我的粉丝</router-link></li>\r\n\t\t\t\t\t\t\t\t<li><a href=\"#\" @click=\"loginOut\">登出</a></li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li v-else=\"isLogin\"><router-link to=\"/login\">登录/注册</router-link></a></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 右边 -->\r\n\t\t<div class=\"m-card-right \">\r\n\t\t\t<div>\r\n\t\t\t\t<div id=\"my-title\" @click=\"goback\">\r\n\t\t\t\t\t<span class=\"glyphicon glyphicon-chevron-left\" aria-hidden=\"true\"></span>\r\n\t\t\t\t\t<a href=\"#\">返回</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-title-bottom \">\r\n\t\t\t\t\t<ul class=\"collectInfo-ul\">\r\n\t\t\t\t\t\t<li v-for=\"blog in blogList\">\r\n\t\t\t\t\t\t\t<div class=\"infoDiv\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a class=\"info-title\" @click=\"gotoBlogDetail(blog.id)\">{{blog.title}}</a>\r\n\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"info-cancel\" @click=\"deleteStore(blog.id)\">取消收藏</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p class=\"collect-time\">{{blog.updateTime.time | formatDate}}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t\r\n\t</div>\n</template>\n\n<script>\r\n\timport moment from 'moment'\t\t//处理时间戳\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tisLogin:false,\r\n\t\t\t\tloginUid:localStorage.getItem(\"login\"),\r\n\t\t\t\tscId:\"\",\t//收藏分类名id\r\n\t\t\t\tblogList:{},\t\t//博客列表\r\n\t\t\t\tunread:{},\t//未读的关注消息列表\r\n\t\t\t\t// inputResultNull:false,\t\t//未查到\r\n\t\t\t\tinputTitle:\"\",\t//要查询的博客标题\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//判断是否要出现“我的，消息”链接\r\n\t\t\tif(localStorage.getItem(\"login\")!=null){\r\n\t\t\t\tthis.isLogin=true;\r\n\t\t\t}\r\n\t\t\t//获取url里的scid\r\n\t\t\tthis.scId = this.$router.history.current.params.scId;\r\n\t\t\t//获取博客列表\r\n\t\t\tthis.getBlogList();\r\n\t\t\t//查找未读的关注消息列表\r\n\t\t\tthis.getUnread();\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tformatDate: function (value) {\r\n\t\t\t\t// console.log(value.time);\r\n\t\t\t\t// return moment(moment(value).format('YYYY MM DD HH:mm:ss')).valueOf();\r\n\t\t\t\treturn moment(value).format('YYYY-MM-DD HH:mm:ss');\r\n\t\t\t},\r\n\t\t\tformatDateyy: function (value) {\r\n\t\t\t\t// console.log(value.time);\r\n\t\t\t\t// return moment(moment(value).format('YYYY MM DD HH:mm:ss')).valueOf();\r\n\t\t\t\treturn moment(value).format('YYYY-MM-DD');\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t//模糊查询博客\r\n\t\t\tlikeTitle(){\r\n\t\t\t\tif(!this.inputTitle){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$router.push(`/selectBlog${this.inputTitle}`);\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//查找未读的关注消息列表\r\n\t\t\tgetUnread(){\r\n\t\t\t\tlet data={\r\n\t\t\t\t\treceiveUserId:this.loginUid,\r\n\t\t\t\t}\r\n\t\t\t\tthis.$ajax.post('/api/notice/messagelist', this.$qs.stringify(data))\r\n\t\t\t\t.then(response =>{\r\n\t\t\t\t\tthis.unread = response.data;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error =>{\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//取消收藏\r\n\t\t\tdeleteStore(bid){\r\n\t\t\t\tlet data={\r\n\t\t\t\t\tblogId:bid,\r\n\t\t\t\t\tuserId:localStorage.getItem(\"login\"),\r\n\t\t\t\t\tscId:this.scId,\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tthis.$ajax.post('/api/store/deleteStore', this.$qs.stringify(data))\r\n\t\t\t\t.then(response =>{\r\n\t\t\t\t\talert(\"已取消\");\r\n\t\t\t\t\tthis.$router.go(0);\t//刷新页面\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error =>{\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//去博客详情页\r\n\t\t\tgotoBlogDetail(bid){\r\n\t\t\t\tthis.$router.push(`/blogDetail${bid}`);\r\n\t\t\t},\r\n\t\t\t//返回上一页\r\n\t\t\tgoback(){\r\n\t\t\t\tthis.$router.go(-1);\r\n\t\t\t},\r\n\t\t\t//收藏列表\r\n\t\t\tgetBlogList(){\r\n\t\t\t\tlet data={\r\n\t\t\t\t\tscId:this.scId,\r\n\t\t\t\t\tuserId:localStorage.getItem(\"login\"),\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t\tthis.$ajax.post('/api/store/blogList', this.$qs.stringify(data))\r\n\t\t\t\t.then(response =>{\r\n\t\t\t\t\tthis.blogList = response.data;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error =>{\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//退出登录\r\n\t\t\tloginOut(){\r\n\t\t\t\tlocalStorage.removeItem(\"login\");\r\n\t\t\t\tconsole.log(\"localStorage=login----\"+localStorage.getItem(\"login\"));\r\n\t\t\t\t// this.$router.push(\"/\");\t\t这个会跳转当前页面，但是不会刷新\r\n\t\t\t\tthis.$router.go(0);//重新刷新当前页面\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.collectInfo-ul{\r\n\t\tpadding: 0;\r\n\t\t    margin: 0;\r\n\t\t    list-style: none;\r\n\t\t    /* margin-top: 15px; */\r\n\t\t    padding-top: 8px;\r\n\t\t    margin-bottom: 20px;\r\n\t\t    border-top: 1px solid #eaebec;\r\n\t}\r\n\t.collectInfo-ul>li{\r\n\t\tborder: none;\r\n\t\t    padding: 0;\r\n\t\t    position: relative;\r\n\t\t    margin-top: 0;\r\n\t}\r\n\t.infoDiv{\r\n\t\tposition: relative;\r\n\t\t    margin: 8px 0 0;\r\n\t\t    padding: 16px 24px;\r\n\t\t    background-color: #fafafa;\r\n\t\t    -webkit-box-shadow: 0 1px 2px 0 rgba(0,0,0,.05);\r\n\t\t    box-shadow: 0 1px 2px 0 rgba(0,0,0,.05);\r\n\t\t    display: inline-block;\r\n\t\t    width: 100%;\r\n\t\t\t\r\n\t\t    /* min-height: 104px; */\r\n\t}\r\n\t.info-title{\r\n\t\t    /* color: #4d4d4d; */\r\n\t\t\t    width: 89%;\r\n\t\t\t    margin-bottom: 8px;\r\n\t\t\t    padding-bottom: 4px;\r\n\t\t\t    font-size: 16px;\r\n\t\t\t    color: #4d4d4d;\r\n\t\t\t    white-space: nowrap;\r\n\t\t\t    text-overflow: ellipsis;\r\n\t\t\t    overflow: hidden;\r\n\t\t\t    font-weight: 700;\r\n\t}\r\n\t.info-cancel{\r\n\t\tposition: absolute;\r\n\t\t    right: 24px;\r\n\t\t    top: 16px;\r\n\t\t    font-size: 14px;\r\n\t\t    color: #6b6b6b;\r\n\t}\r\n\t.collect-time{\r\n\t\twidth: 85%;\r\n\t\t    font-size: 14px;\r\n\t\t\t    color: #999;\r\n\t}\n</style>\n"]}]}